#!/bin/bash

set -e

# Run all dotfiles installers.

# set the platform var for export to installer scripts
export PLATFORM="unknown"
if [[ "$(uname)" == "Darwin" ]]; then
   PLATFORM="osx"
elif [[ "$(expr substr $(uname -s) 1 5)" == "Linux" ]]; then
   PLATFORM="linux"
elif [[ "$(expr substr $(uname -s) 1 10)" == "MINGW32_NT" ]]; then
   PLATFORM="windows"
fi

echo "Running installers for $platform"

find . -name $platform.sh | while read installer ; do sh "${installer}" > /dev/null ; done
